{"id":"ios-app-icons-066","title":"Implement user authentication system","description":"Add complete authentication system with JWT tokens and OAuth providers.\n\n## Requirements\n### Email/Password Auth\n- Registration endpoint with email verification\n- Login endpoint returning JWT access + refresh tokens\n- Password reset flow\n- Secure password hashing (bcrypt/argon2)\n\n### OAuth Integration\n- Google OAuth2\n- GitHub OAuth\n- Apple Sign In (for iOS developers)\n\n### Session Management\n- JWT access tokens (15min expiry)\n- Refresh tokens (7 day expiry, stored in DB)\n- Token refresh endpoint\n- Logout (invalidate refresh token)\n\n## API Endpoints\n- POST /auth/register\n- POST /auth/login\n- POST /auth/refresh\n- POST /auth/logout\n- POST /auth/forgot-password\n- POST /auth/reset-password\n- GET /auth/oauth/google\n- GET /auth/oauth/github\n- GET /auth/oauth/callback\n\n## Dependencies\n- python-jose[cryptography] for JWT\n- passlib[bcrypt] for password hashing\n- authlib for OAuth\n\n## Blocks\n- All user-specific features depend on this","status":"closed","priority":1,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:21.415182-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-28T14:53:28.685708-04:00","closed_at":"2026-01-28T14:53:28.685708-04:00","close_reason":"Implemented complete user authentication: email/password registration and login with JWT tokens (15min access, 7day refresh), password reset flow with token verification, OAuth support for Google/GitHub/Apple, bcrypt password hashing, refresh token revocation in database, FastAPI auth dependencies for protected routes","dependencies":[{"issue_id":"ios-app-icons-066","depends_on_id":"ios-app-icons-kx7","type":"blocks","created_at":"2026-01-27T22:29:09.853679-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-170","title":"Create production deployment configuration","description":"Set up production-ready deployment with Docker and cloud hosting.\n\n## Containerization\n- Multi-stage Dockerfile for backend (slim Python image)\n- Dockerfile for frontend (nginx serving built React)\n- docker-compose.prod.yml with all services\n- Health checks for all containers\n\n## Deployment Options (document all, implement one)\n1. **Railway/Render** - Simple PaaS\n2. **AWS ECS/Fargate** - Scalable containers\n3. **DigitalOcean App Platform** - Middle ground\n4. **Kubernetes** - Full control (future)\n\n## Configuration\n- Environment-based config (dev/staging/prod)\n- Secrets management (not in code/env files)\n- Database connection pooling for prod\n- Proper logging (structured JSON)\n- Error tracking (Sentry integration)\n\n## CI/CD\n- GitHub Actions workflow:\n  - Run tests\n  - Build Docker images\n  - Push to container registry\n  - Deploy to staging/prod\n\n## SSL/Domain\n- HTTPS configuration\n- Custom domain setup docs\n- CDN for frontend assets\n\n## Files\n- Dockerfile (backend)\n- frontend/Dockerfile\n- docker-compose.prod.yml\n- .github/workflows/deploy.yml\n- docs/deployment.md","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:27.905061-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:27.905061-04:00","dependencies":[{"issue_id":"ios-app-icons-170","depends_on_id":"ios-app-icons-kx7","type":"blocks","created_at":"2026-01-27T22:29:19.088516-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-170","depends_on_id":"ios-app-icons-kq3","type":"blocks","created_at":"2026-01-27T22:29:20.024997-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-170","depends_on_id":"ios-app-icons-rtc","type":"blocks","created_at":"2026-01-27T22:29:20.823981-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-1d5","title":"Epic: Convert iOS App Icon Generator to SaaS","description":"Parent epic for converting the existing CLI/web app into a production SaaS with authentication, payments, and multi-tenant architecture.\n\n## Goals\n- Add user authentication (email/password + OAuth)\n- Implement Stripe payment processing with subscription tiers\n- Persistent database for users, jobs, and icons\n- Cloud storage for generated assets\n- Production deployment infrastructure\n\n## Success Criteria\n- Users can sign up, log in, and manage their account\n- Free tier with limited generations, paid tiers with more\n- Generated icons persist and are accessible from user dashboard\n- Scalable, production-ready deployment","status":"open","priority":1,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:27:21.463224-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:27:21.463224-04:00"}
{"id":"ios-app-icons-35l","title":"Create GET /config endpoint","description":"Implement endpoint to expose available configuration options to frontend.\n\n## Endpoint: GET /api/config\n\n## Response Schema\n```json\n{\n  \"styles\": [\n    {\"id\": \"ios\", \"name\": \"iOS Modern\", \"description\": \"Standard iOS app icon style\"},\n    {\"id\": \"flat\", \"name\": \"Flat Design\", \"description\": \"Minimalist flat design\"},\n    {\"id\": \"vector\", \"name\": \"Vector\", \"description\": \"Vector illustration style\"},\n    {\"id\": \"custom\", \"name\": \"Custom\", \"description\": \"Full custom prompt\"}\n  ],\n  \"defaults\": {\n    \"variations\": 4,\n    \"steps\": 30,\n    \"guidance_scale\": 7.0,\n    \"remove_background\": true,\n    \"apply_mask\": true\n  },\n  \"limits\": {\n    \"variations\": {\"min\": 1, \"max\": 8},\n    \"steps\": {\"min\": 20, \"max\": 50},\n    \"guidance_scale\": {\"min\": 5.0, \"max\": 15.0}\n  },\n  \"ios_sizes\": [1024, 180, 167, 152, 120, 76, 60, 40, 29, 20]\n}\n```\n\n## Purpose\n- Frontend can dynamically build UI from available options\n- No hardcoded values in frontend\n- Easy to add new styles later\n\n## Files to Create\n- `src/icon_generator/api/routes/config.py`\n\n## Dependencies\n- ios-app-icons-dh6 (FastAPI setup)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:51.077025-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:47.404428-04:00","closed_at":"2026-01-27T22:09:47.404428-04:00","close_reason":"Implemented as part of FastAPI setup","dependencies":[{"issue_id":"ios-app-icons-35l","depends_on_id":"ios-app-icons-dh6","type":"blocks","created_at":"2026-01-27T21:58:49.744513-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-35l","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.600154-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-47o","title":"Add API rate limiting and security middleware","description":"Implement rate limiting, API key auth, and security headers.\n\n## Rate Limiting\n- Use slowapi or custom Redis-based limiter\n- Limits per tier:\n  - Free: 10 req/min\n  - Pro: 60 req/min\n  - Business: 120 req/min\n- Separate limits for generation vs read endpoints\n- Return 429 with Retry-After header\n\n## API Key Authentication\n- Generate API keys for Pro+ users\n- API key format: iak_xxxxxxxxxxxx (icon api key)\n- Hash keys in database (store prefix for identification)\n- Support both Bearer token and X-API-Key header\n- Scoped permissions (read, write, admin)\n\n## Security Middleware\n- CORS configuration (allow specific origins)\n- Security headers (CSP, X-Frame-Options, etc.)\n- Request validation/sanitization\n- Audit logging for sensitive operations\n\n## Files\n- src/icon_generator/api/middleware/rate_limit.py\n- src/icon_generator/api/middleware/api_key.py\n- src/icon_generator/api/middleware/security.py","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:25.667215-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:25.667215-04:00","dependencies":[{"issue_id":"ios-app-icons-47o","depends_on_id":"ios-app-icons-kq3","type":"blocks","created_at":"2026-01-27T22:29:15.445082-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-47o","depends_on_id":"ios-app-icons-066","type":"blocks","created_at":"2026-01-27T22:29:16.300561-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-9xb","title":"Build icon results gallery component","description":"Create component to display generated icons with download options.\n\n## Component: IconGrid.tsx / IconPreview.tsx\n\n## Features\n- Grid display of all generated variants\n- Click to enlarge/preview individual variant\n- Show all iOS sizes for selected variant\n- Download options:\n  - Download single size\n  - Download all sizes (zip)\n  - Download original (pre-processed)\n- Variant comparison view (side-by-side)\n\n## Layout\n```\n┌─────────────────────────────────────┐\n│  Generated Icons (4 variants)       │\n├─────────┬─────────┬─────────┬───────┤\n│ [img 1] │ [img 2] │ [img 3] │[img 4]│\n│ ★Select │  Select │  Select │ Select│\n└─────────┴─────────┴─────────┴───────┘\n\nSelected Variant: 1\n┌─────────────────────────────────────┐\n│ iOS Sizes                           │\n│ 1024 | 180 | 167 | 152 | 120 | ...  │\n│ [Download All] [Download Original]  │\n└─────────────────────────────────────┘\n```\n\n## Acceptance Criteria\n- All variants display correctly\n- Images load without CORS issues\n- Downloads work for all sizes\n- Responsive layout on mobile\n\n## Dependencies\n- ios-app-icons-t24 (Frontend setup)\n- ios-app-icons-az2 (File serving endpoint)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:58:23.161527-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:55.256987-04:00","closed_at":"2026-01-27T22:09:55.256987-04:00","close_reason":"Implemented as part of initial setup","dependencies":[{"issue_id":"ios-app-icons-9xb","depends_on_id":"ios-app-icons-t24","type":"blocks","created_at":"2026-01-27T21:58:58.865167-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-9xb","depends_on_id":"ios-app-icons-az2","type":"blocks","created_at":"2026-01-27T21:59:03.84376-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-9xb","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.955967-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-9ye","title":"Implement job queue and background task system","description":"Create a background task system for handling long-running icon generation.\n\n## Problem\nIcon generation takes 30-120 seconds. Need async job handling so API returns immediately.\n\n## Tasks\n- Create job manager class to track generation jobs\n- Implement in-memory job queue (upgrade to Redis later if needed)\n- Add job states: pending, processing, completed, failed\n- Store job metadata: id, status, progress, result paths, errors\n- Implement cleanup for old completed jobs\n\n## Design\n```python\nclass JobManager:\n    def create_job(params) -\u003e job_id\n    def get_job(job_id) -\u003e JobStatus\n    def update_job(job_id, status, result)\n    def run_job(job_id)  # Background thread\n```\n\n## Files to Create\n- `src/icon_generator/api/jobs.py` - JobManager and JobStatus classes\n\n## Acceptance Criteria\n- Jobs can be created, tracked, and completed\n- Concurrent generations don't block each other\n- Failed jobs have error details stored","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:20.993279-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:47.399308-04:00","closed_at":"2026-01-27T22:09:47.399308-04:00","close_reason":"Implemented as part of FastAPI setup","dependencies":[{"issue_id":"ios-app-icons-9ye","depends_on_id":"ios-app-icons-dh6","type":"blocks","created_at":"2026-01-27T21:58:49.388273-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-9ye","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.246217-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-9zn","title":"Create GET /status/{job_id} endpoint","description":"Implement endpoint to check generation job status.\n\n## Endpoint: GET /api/status/{job_id}\n\n## Response Schema\n```json\n{\n  \"job_id\": \"uuid-string\",\n  \"status\": \"processing\",           // pending|processing|completed|failed\n  \"progress\": 50,                    // 0-100 percentage\n  \"message\": \"Generating variants...\",\n  \"created_at\": \"2024-01-01T00:00:00Z\",\n  \"completed_at\": null,\n  \"error\": null,\n  \"result\": null                     // populated when completed\n}\n```\n\n## Result Schema (when completed)\n```json\n{\n  \"result\": {\n    \"output_dir\": \"cat-20240101-120000\",\n    \"variants\": [\n      {\n        \"id\": 1,\n        \"original\": \"/api/files/cat-20240101-120000/originals/variant-1.png\",\n        \"processed\": {\n          \"1024\": \"/api/files/.../processed/variant-1/AppIcon-1024.png\",\n          \"180\": \"/api/files/.../processed/variant-1/AppIcon-180.png\"\n        }\n      }\n    ]\n  }\n}\n```\n\n## Files to Modify/Create\n- `src/icon_generator/api/routes/status.py`\n- `src/icon_generator/api/schemas.py` (add StatusResponse)\n\n## Dependencies\n- ios-app-icons-dh6 (FastAPI setup)\n- ios-app-icons-9ye (Job queue)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:36.999152-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:55.251985-04:00","closed_at":"2026-01-27T22:09:55.251985-04:00","close_reason":"Implemented as part of initial setup","dependencies":[{"issue_id":"ios-app-icons-9zn","depends_on_id":"ios-app-icons-dh6","type":"blocks","created_at":"2026-01-27T21:58:49.564281-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-9zn","depends_on_id":"ios-app-icons-9ye","type":"blocks","created_at":"2026-01-27T21:58:54.449747-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-9zn","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.423533-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-az2","title":"Create static file serving for generated icons","description":"Implement file serving endpoint to download generated icon files.\n\n## Endpoint: GET /api/files/{path}\n\n## Implementation\n- Serve files from the output directory\n- Support paths like: `{job-output-dir}/originals/variant-1.png`\n- Set correct Content-Type headers (image/png)\n- Add cache headers for completed generations\n- Security: Validate paths are within output directory (prevent path traversal)\n\n## Alternative: Configure FastAPI StaticFiles\n```python\nfrom fastapi.staticfiles import StaticFiles\napp.mount(\"/files\", StaticFiles(directory=\"output\"), name=\"files\")\n```\n\n## Acceptance Criteria\n- Generated icons are downloadable via HTTP\n- Path traversal attacks are prevented\n- Images display correctly in browser\n\n## Files to Modify\n- `src/icon_generator/api/main.py` (add static file mount)\n\n## Dependencies\n- ios-app-icons-dh6 (FastAPI setup)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:43.714104-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:47.401896-04:00","closed_at":"2026-01-27T22:09:47.401896-04:00","close_reason":"Implemented as part of FastAPI setup","dependencies":[{"issue_id":"ios-app-icons-az2","depends_on_id":"ios-app-icons-dh6","type":"blocks","created_at":"2026-01-27T21:58:49.655321-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-az2","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.5111-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-b9z","title":"Epic: Convert CLI to REST API with Frontend","description":"Convert the iOS app icon generator from a CLI tool to a web application with:\n\n## Goals\n- REST API backend using FastAPI\n- Frontend web interface to consume the API\n- Maintain all existing functionality (generation, processing, styles)\n\n## Current Architecture\n- `src/icon_generator/generator.py` - IconGenerator class (Replicate SDXL integration)\n- `src/icon_generator/processor.py` - IconProcessor class (image processing, iOS sizes)\n- `src/icon_generator/prompts.py` - IconPrompts class (style templates)\n- `src/icon_generator/config.py` - Config class (settings, API token)\n- `src/icon_generator/cli.py` - Click CLI (to be replaced/supplemented)\n\n## Key Requirements\n- Async job handling (generation takes 30-120 seconds)\n- File serving for generated icons\n- Progress/status tracking\n- All existing CLI parameters exposed via API","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:07.43524-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:11:17.46926-04:00","closed_at":"2026-01-27T22:11:17.46926-04:00","close_reason":"Epic complete - CLI converted to REST API with React frontend"}
{"id":"ios-app-icons-c5p","title":"Add watermark for free tier icons","description":"Apply subtle watermark to free tier generated icons.\n\n## Requirements\n- Small, non-intrusive watermark (corner logo or text)\n- Only applied to free tier users\n- Removed for paid tiers\n- Configurable watermark image/text\n\n## Implementation\n- Add watermark step to IconProcessor\n- Check user tier before processing\n- Watermark should be visible but not ruin usability\n- Store watermark asset in assets/ folder","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:50.376601-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:50.376601-04:00","dependencies":[{"issue_id":"ios-app-icons-c5p","depends_on_id":"ios-app-icons-mm6","type":"blocks","created_at":"2026-01-27T22:29:18.358407-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-dh6","title":"Setup FastAPI project structure","description":"Add FastAPI framework and create the API project structure.\n\n## Tasks\n- Add FastAPI, uvicorn, python-multipart to dependencies in pyproject.toml\n- Create `src/icon_generator/api/` directory structure:\n  - `__init__.py`\n  - `main.py` - FastAPI app initialization\n  - `routes/` - API route handlers\n  - `schemas.py` - Pydantic request/response models\n  - `dependencies.py` - Shared dependencies (config, etc.)\n\n## Acceptance Criteria\n- `uvicorn icon_generator.api.main:app --reload` starts the server\n- Health check endpoint returns 200\n- CORS configured for local development\n\n## Files to Create\n- `src/icon_generator/api/main.py`\n- `src/icon_generator/api/schemas.py`\n- `src/icon_generator/api/routes/__init__.py`","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:13.830572-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:38.740459-04:00","closed_at":"2026-01-27T22:09:38.740459-04:00","close_reason":"Setup complete - FastAPI backend and React/Vite frontend scaffolding created","dependencies":[{"issue_id":"ios-app-icons-dh6","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.156079-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-e7d","title":"Build job status and progress component","description":"Create component to display generation progress and handle polling.\n\n## Component: JobStatus.tsx\n\n## Features\n- Display current job status (pending/processing/completed/failed)\n- Progress bar with percentage\n- Status message display\n- Auto-polling while job is in progress (every 2-3 seconds)\n- Stop polling when completed or failed\n- Error display with retry option\n- Transition to results view when completed\n\n## States to Handle\n1. **Pending**: \"Your icons are queued for generation...\"\n2. **Processing**: Progress bar + \"Generating variant 2 of 4...\"\n3. **Completed**: Auto-transition to results grid\n4. **Failed**: Error message + \"Try Again\" button\n\n## Implementation\n```typescript\nconst { data, isLoading } = useQuery({\n  queryKey: ['job', jobId],\n  queryFn: () =\u003e fetchJobStatus(jobId),\n  refetchInterval: (data) =\u003e \n    data?.status === 'completed' || data?.status === 'failed' \n      ? false \n      : 3000\n});\n```\n\n## Acceptance Criteria\n- Progress updates in real-time\n- No memory leaks from polling\n- Graceful error handling\n\n## Dependencies\n- ios-app-icons-t24 (Frontend setup)\n- ios-app-icons-9zn (Status endpoint)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:58:14.078242-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:10:04.513722-04:00","closed_at":"2026-01-27T22:10:04.513722-04:00","close_reason":"Implemented in JobProgress.tsx component","dependencies":[{"issue_id":"ios-app-icons-e7d","depends_on_id":"ios-app-icons-t24","type":"blocks","created_at":"2026-01-27T21:58:58.777244-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-e7d","depends_on_id":"ios-app-icons-9zn","type":"blocks","created_at":"2026-01-27T21:59:03.754406-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-e7d","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.867348-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-kq3","title":"Set up Redis for job queue and caching","description":"Replace in-memory job queue with Redis-backed solution.\n\n## Requirements\n### Job Queue\n- Use Redis + Celery or ARQ for async job processing\n- Persistent job storage surviving restarts\n- Priority queues (Business tier gets priority)\n- Job status tracking and progress updates\n- Retry logic with exponential backoff\n\n### Caching\n- Cache user sessions/permissions\n- Cache subscription status\n- Cache rate limit counters\n- API response caching where appropriate\n\n### Real-time Updates\n- Use Redis Pub/Sub for job status updates\n- Replace polling with Server-Sent Events (SSE) or WebSockets\n- Notify frontend immediately when job completes\n\n## Infrastructure\n- Add Redis to docker-compose.yml\n- Redis connection pooling\n- Health check endpoint for Redis\n\n## Environment\n- REDIS_URL=redis://localhost:6379/0\n- CELERY_BROKER_URL (if using Celery)","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:26.679712-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:26.679712-04:00"}
{"id":"ios-app-icons-kx7","title":"Set up PostgreSQL database with SQLAlchemy/Alembic","description":"Replace in-memory job storage with a persistent PostgreSQL database.\n\n## Requirements\n- Add SQLAlchemy ORM with async support (sqlalchemy[asyncio])\n- Set up Alembic for database migrations\n- Create initial schema:\n  - users table (id, email, password_hash, created_at, etc.)\n  - jobs table (id, user_id, status, params, created_at, completed_at)\n  - icons table (id, job_id, variant_number, storage_url, sizes)\n  - subscriptions table (id, user_id, stripe_customer_id, plan_tier, status)\n  - usage table (id, user_id, month, generations_count)\n\n## Technical Details\n- Use asyncpg as the PostgreSQL driver\n- Configure connection pooling\n- Add database URL to environment config\n- Create docker-compose.yml with PostgreSQL service for local dev\n\n## Files to Modify/Create\n- src/icon_generator/db/models.py\n- src/icon_generator/db/database.py\n- alembic.ini + migrations/\n- docker-compose.yml\n- requirements: sqlalchemy[asyncio], alembic, asyncpg","status":"closed","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:19.233776-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-28T14:37:28.779608-04:00","closed_at":"2026-01-28T14:37:28.779608-04:00","close_reason":"Added SQLAlchemy models (users, jobs, icons, subscriptions, usage), async database module with connection pooling, Alembic migrations, docker-compose.yml for PostgreSQL 16, and FastAPI init hooks"}
{"id":"ios-app-icons-l4z","title":"Build user dashboard and icon history","description":"Create authenticated user dashboard showing generation history and saved icons.\n\n## Frontend Requirements\n### Dashboard Page\n- Overview: usage this month vs limit\n- Quick generation form\n- Recent generations grid\n\n### History Page\n- Paginated list of all user's generations\n- Filter by date, status\n- Search by subject/prompt\n- Bulk selection and download\n\n### Icon Detail View\n- All variants from a generation\n- All sizes for each variant\n- Download individual sizes or ZIP of all\n- Regenerate with same/modified settings\n- Delete generation\n\n### Account Settings\n- Profile (name, email, avatar)\n- Change password\n- Connected OAuth accounts\n- API keys management\n- Subscription/billing link\n\n## Technical\n- React Router for navigation\n- Protected routes (redirect to login if not auth'd)\n- React Query for data fetching with auth headers\n- Responsive design (mobile-friendly)\n\n## New Components\n- frontend/src/pages/Dashboard.tsx\n- frontend/src/pages/History.tsx\n- frontend/src/pages/Settings.tsx\n- frontend/src/components/AuthGuard.tsx\n- frontend/src/contexts/AuthContext.tsx","status":"open","priority":2,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:24.851882-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:24.851882-04:00","dependencies":[{"issue_id":"ios-app-icons-l4z","depends_on_id":"ios-app-icons-066","type":"blocks","created_at":"2026-01-27T22:29:12.171807-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-mm6","title":"Integrate Stripe for subscription payments","description":"Implement Stripe billing with subscription tiers and usage tracking.\n\n## Subscription Tiers\n1. **Free** - 5 generations/month, watermarked, no API access\n2. **Pro** ($9/month) - 50 generations/month, no watermark, API access\n3. **Business** ($29/month) - 200 generations/month, priority queue, bulk download\n4. **Enterprise** (custom) - Unlimited, dedicated support, SLA\n\n## Requirements\n### Stripe Integration\n- Create Stripe products and prices for each tier\n- Implement Stripe Checkout for subscriptions\n- Handle Stripe webhooks:\n  - checkout.session.completed\n  - customer.subscription.updated\n  - customer.subscription.deleted\n  - invoice.payment_failed\n- Subscription management (upgrade/downgrade/cancel)\n\n### Usage Tracking\n- Track generations per user per month\n- Enforce tier limits before generation\n- Reset counters monthly\n- Overage notifications\n\n### Customer Portal\n- Stripe Customer Portal for billing management\n- Invoice history\n- Payment method updates\n\n## API Endpoints\n- POST /billing/create-checkout-session\n- POST /billing/create-portal-session\n- POST /billing/webhooks (Stripe webhook handler)\n- GET /billing/subscription\n- GET /billing/usage\n\n## Dependencies\n- stripe Python SDK","status":"open","priority":1,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:23.077287-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:23.077287-04:00","dependencies":[{"issue_id":"ios-app-icons-mm6","depends_on_id":"ios-app-icons-kx7","type":"blocks","created_at":"2026-01-27T22:29:10.609596-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-mm6","depends_on_id":"ios-app-icons-066","type":"blocks","created_at":"2026-01-27T22:29:11.369221-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-ph6","title":"Build icon generation form component","description":"Create the main form component for submitting icon generation requests.\n\n## Component: GenerateForm.tsx\n\n## Features\n- Subject input (required, text field)\n- Style selector (dropdown with ios/flat/vector/custom options)\n- Custom style textarea (shown only when style=custom)\n- Variations slider (1-8)\n- Advanced options accordion:\n  - Steps slider (20-50)\n  - Guidance scale slider (5.0-15.0)\n  - Remove background toggle\n  - Apply iOS mask toggle\n- Submit button with loading state\n- Form validation with error messages\n\n## Data Flow\n1. Fetch config from GET /api/config on mount\n2. Populate form defaults and limits from config\n3. On submit: POST /api/generate\n4. Redirect to status/results page with job_id\n\n## Acceptance Criteria\n- Form renders with all fields\n- Validation prevents invalid submissions\n- Custom style field appears/hides based on style selection\n- Loading state shown during submission\n\n## Dependencies\n- ios-app-icons-t24 (Frontend setup)\n- ios-app-icons-35l (Config endpoint for dynamic form options)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:58:05.942667-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:55.254454-04:00","closed_at":"2026-01-27T22:09:55.254454-04:00","close_reason":"Implemented as part of initial setup","dependencies":[{"issue_id":"ios-app-icons-ph6","depends_on_id":"ios-app-icons-t24","type":"blocks","created_at":"2026-01-27T21:58:58.691402-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-ph6","depends_on_id":"ios-app-icons-35l","type":"blocks","created_at":"2026-01-27T21:59:03.66391-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-ph6","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.779117-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-pyd","title":"Create POST /generate endpoint","description":"Implement the main generation endpoint that accepts icon generation requests.\n\n## Endpoint: POST /api/generate\n\n## Request Schema\n```json\n{\n  \"subject\": \"happy cat\",           // required\n  \"style\": \"ios\",                    // ios|flat|vector|custom\n  \"custom_style\": null,              // required if style=custom\n  \"variations\": 4,                   // 1-8\n  \"steps\": 30,                       // 20-50\n  \"guidance_scale\": 7.0,             // 5.0-15.0\n  \"remove_background\": true,\n  \"apply_mask\": true,\n  \"process\": true\n}\n```\n\n## Response Schema\n```json\n{\n  \"job_id\": \"uuid-string\",\n  \"status\": \"pending\",\n  \"created_at\": \"2024-01-01T00:00:00Z\"\n}\n```\n\n## Implementation\n- Validate request parameters\n- Create job in JobManager\n- Kick off background generation task\n- Return job_id immediately\n\n## Files to Modify/Create\n- `src/icon_generator/api/routes/generate.py`\n- `src/icon_generator/api/schemas.py` (add GenerateRequest, GenerateResponse)\n\n## Dependencies\n- ios-app-icons-dh6 (FastAPI setup)\n- ios-app-icons-9ye (Job queue)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:29.401203-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:55.249397-04:00","closed_at":"2026-01-27T22:09:55.249397-04:00","close_reason":"Implemented as part of initial setup","dependencies":[{"issue_id":"ios-app-icons-pyd","depends_on_id":"ios-app-icons-dh6","type":"blocks","created_at":"2026-01-27T21:58:49.476049-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-pyd","depends_on_id":"ios-app-icons-9ye","type":"blocks","created_at":"2026-01-27T21:58:54.3619-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-pyd","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.334554-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-qc9","title":"Add subscription tier UI and upgrade flow","description":"Build pricing page and subscription management in frontend.\n\n## Pages\n### Pricing Page (/pricing)\n- Display all tiers with features\n- Highlight current plan (if logged in)\n- CTA buttons to start checkout\n- FAQ section\n\n### Checkout Flow\n- Redirect to Stripe Checkout\n- Success page after payment\n- Cancel/return page\n\n### Billing Settings (/settings/billing)\n- Current plan display\n- Usage meter (X of Y generations used)\n- Upgrade/downgrade buttons\n- Cancel subscription\n- Link to Stripe portal for invoices\n\n## Components\n- frontend/src/pages/Pricing.tsx\n- frontend/src/pages/CheckoutSuccess.tsx\n- frontend/src/components/PlanCard.tsx\n- frontend/src/components/UsageMeter.tsx\n- frontend/src/api/billing.ts","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:30.623166-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:30.623166-04:00","dependencies":[{"issue_id":"ios-app-icons-qc9","depends_on_id":"ios-app-icons-mm6","type":"blocks","created_at":"2026-01-27T22:29:13.898816-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qc9","depends_on_id":"ios-app-icons-s5a","type":"blocks","created_at":"2026-01-27T22:29:14.688327-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-qvh","title":"Integrate frontend with backend and add E2E flow","description":"Wire up all components and test the complete flow end-to-end.\n\n## Tasks\n- Connect GenerateForm to POST /api/generate\n- Connect JobStatus to GET /api/status/{job_id}\n- Connect IconGrid to file serving endpoint\n- Add React Router for navigation:\n  - `/` - Generate form\n  - `/job/{job_id}` - Status/Results page\n- Handle API errors gracefully\n- Add loading states throughout\n\n## E2E Test Flow\n1. User enters \"happy cat\" as subject\n2. Selects \"ios\" style\n3. Clicks Generate\n4. Sees progress updates\n5. Views generated variants\n6. Downloads preferred icon\n\n## Acceptance Criteria\n- Complete flow works without errors\n- Error states handled gracefully\n- Navigation works correctly\n- API responses display properly\n\n## Dependencies\n- ios-app-icons-pyd (Generate endpoint)\n- ios-app-icons-9zn (Status endpoint)\n- ios-app-icons-az2 (File serving)\n- ios-app-icons-ph6 (Form component)\n- ios-app-icons-e7d (Status component)\n- ios-app-icons-9xb (Gallery component)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:58:30.337784-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:11:17.380215-04:00","closed_at":"2026-01-27T22:11:17.380215-04:00","close_reason":"Integration verified - both frontend and backend work together","dependencies":[{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-pyd","type":"blocks","created_at":"2026-01-27T21:59:08.960807-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-9zn","type":"blocks","created_at":"2026-01-27T21:59:09.045957-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-az2","type":"blocks","created_at":"2026-01-27T21:59:09.130336-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-ph6","type":"blocks","created_at":"2026-01-27T21:59:09.22129-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-e7d","type":"blocks","created_at":"2026-01-27T21:59:09.311384-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-9xb","type":"blocks","created_at":"2026-01-27T21:59:09.39894-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-app-icons-qvh","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:16.045571-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-rtc","title":"Add cloud storage for generated icons (S3/R2)","description":"Replace local filesystem storage with cloud object storage.\n\n## Requirements\n- Support AWS S3 or Cloudflare R2 (S3-compatible)\n- Upload generated icons to cloud storage\n- Generate signed URLs for secure downloads\n- Organize by user: {bucket}/{user_id}/{job_id}/{variant}/\n- Set appropriate cache headers\n- Clean up old files based on retention policy\n\n## Implementation\n- Abstract storage interface (local vs cloud)\n- Async upload with boto3/aioboto3\n- Presigned URLs with configurable expiry\n- Background cleanup job for expired/deleted content\n\n## Environment Config\n- STORAGE_BACKEND=s3|r2|local\n- AWS_ACCESS_KEY_ID\n- AWS_SECRET_ACCESS_KEY\n- S3_BUCKET_NAME\n- S3_REGION\n- CDN_URL (optional, for Cloudflare/CloudFront)\n\n## Files\n- src/icon_generator/storage/base.py (interface)\n- src/icon_generator/storage/local.py\n- src/icon_generator/storage/s3.py","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:23.903452-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:23.903452-04:00"}
{"id":"ios-app-icons-s5a","title":"Implement login/signup React pages","description":"Build authentication UI in the React frontend.\n\n## Pages\n### Login Page (/login)\n- Email/password form\n- \"Remember me\" checkbox\n- Forgot password link\n- OAuth buttons (Google, GitHub, Apple)\n- Link to signup\n\n### Signup Page (/signup)\n- Email/password/confirm password form\n- Terms of service checkbox\n- OAuth signup options\n- Link to login\n\n### Forgot Password (/forgot-password)\n- Email input\n- Success message with instructions\n\n### Reset Password (/reset-password?token=xxx)\n- New password + confirm\n- Token validation\n\n## Technical\n- Form validation (react-hook-form + zod)\n- Auth context with token storage\n- Axios interceptor for auth headers\n- Protected route wrapper\n- Redirect to dashboard after login\n\n## Components\n- frontend/src/pages/Login.tsx\n- frontend/src/pages/Signup.tsx\n- frontend/src/pages/ForgotPassword.tsx\n- frontend/src/pages/ResetPassword.tsx\n- frontend/src/hooks/useAuth.ts\n- frontend/src/api/auth.ts","status":"open","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:29.069883-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:29.069883-04:00","dependencies":[{"issue_id":"ios-app-icons-s5a","depends_on_id":"ios-app-icons-066","type":"blocks","created_at":"2026-01-27T22:29:13.025699-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-t24","title":"Create frontend project with React/Vite","description":"Set up the frontend project to consume the icon generation API.\n\n## Tech Stack\n- React 18+ with TypeScript\n- Vite for bundling\n- Tailwind CSS for styling\n- React Query for API state management\n\n## Project Structure\n```\nfrontend/\n├── src/\n│   ├── components/\n│   │   ├── GenerateForm.tsx\n│   │   ├── JobStatus.tsx\n│   │   ├── IconPreview.tsx\n│   │   └── IconGrid.tsx\n│   ├── hooks/\n│   │   └── useGeneration.ts\n│   ├── api/\n│   │   └── client.ts\n│   ├── App.tsx\n│   └── main.tsx\n├── package.json\n├── vite.config.ts\n└── tailwind.config.js\n```\n\n## Tasks\n- Initialize Vite + React + TypeScript project\n- Add Tailwind CSS\n- Add React Query\n- Configure proxy for API calls during development\n- Create basic App shell with routing\n\n## Acceptance Criteria\n- `npm run dev` starts frontend on port 5173\n- API calls proxy to backend on port 8000\n- Basic page loads without errors\n\n## Dependencies\n- None (can start in parallel with backend)","status":"closed","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T21:57:58.73781-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:09:38.743344-04:00","closed_at":"2026-01-27T22:09:38.743344-04:00","close_reason":"Setup complete - FastAPI backend and React/Vite frontend scaffolding created","dependencies":[{"issue_id":"ios-app-icons-t24","depends_on_id":"ios-app-icons-b9z","type":"parent-child","created_at":"2026-01-27T21:59:15.689014-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-t9e","title":"Add email service for transactional emails","description":"Set up email sending for auth flows and notifications.\n\n## Email Types\n- Welcome email after registration\n- Email verification\n- Password reset\n- Payment confirmation\n- Usage limit warnings (80%, 100%)\n- Subscription changes\n\n## Implementation\n- Use SendGrid, Postmark, or AWS SES\n- HTML email templates (MJML or React Email)\n- Email queue (use Redis/Celery)\n- Unsubscribe handling\n\n## Environment\n- EMAIL_PROVIDER=sendgrid|postmark|ses\n- EMAIL_API_KEY\n- EMAIL_FROM_ADDRESS\n\n## Files\n- src/icon_generator/email/service.py\n- src/icon_generator/email/templates/","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:49.457601-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:49.457601-04:00","dependencies":[{"issue_id":"ios-app-icons-t9e","depends_on_id":"ios-app-icons-066","type":"blocks","created_at":"2026-01-27T22:29:17.197624-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-app-icons-tkl","title":"Add landing page and marketing site","description":"Create public-facing landing page for the SaaS.\n\n## Sections\n- Hero with value proposition\n- Feature highlights\n- Pricing comparison\n- Example gallery (generated icons showcase)\n- Testimonials (future)\n- FAQ\n- Footer with links\n\n## Technical\n- SEO-optimized\n- Fast loading (minimal JS)\n- Responsive design\n- Analytics integration (Plausible/PostHog)\n\n## Pages\n- / (landing)\n- /pricing\n- /examples\n- /docs (API documentation)\n- /blog (future)","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:28:51.344179-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:28:51.344179-04:00"}
{"id":"ios-app-icons-ud4","title":"Add download all variants/sizes feature","description":"Allow users to download all generated image variants and sizes at once. Currently icons are generated in multiple sizes (1024, 180, 167, 152, 120, 76, 60, 40, 29, 20) and stored in output directories, but users need an easy way to download all of them as a bundle (e.g., zip file).","status":"open","priority":2,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-27T22:25:45.63679-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-27T22:25:45.63679-04:00"}
